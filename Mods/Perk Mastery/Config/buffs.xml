<configs>

    <append xpath="/buffs/buff[@name='buffStatusCheck01']">
        <effect_group>
		<!--perkHealingArts / health regen per tick-->
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="medicalRegHealthAmount" operation="add" value=".1">
				<requirement name="ProgressionLevel" progression_name="perkTriage" operation="Equals" value="1"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="medicalRegHealthAmount" operation="add" value=".2">
				<requirement name="ProgressionLevel" progression_name="perkTriage" operation="Equals" value="2"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="medicalRegHealthAmount" operation="add" value=".3">
				<requirement name="ProgressionLevel" progression_name="perkTriage" operation="Equals" value="3"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="medicalRegHealthAmount" operation="add" value=".4">
				<requirement name="ProgressionLevel" progression_name="perkTriage" operation="Equals" value="4"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="medicalvdfgRegHealthAmount" operation="add" value=".5">
				<requirement name="ProgressionLevel" progression_name="perkTriage" operation="Equals" value="5"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="medicalRegHealthAmount" operation="add" value=".6">
				<requirement name="ProgressionLevel" progression_name="perkTriage" operation="Equals" value="6"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="medicalRegHealthAmount" operation="add" value="1">
				<requirement name="ProgressionLevel" progression_name="perkTriage" operation="Equals" value="7"/></triggered_effect>
		</effect_group>
				
		<!-- set max bleeding stacks that a player can apply -->
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$maxBleedCounter" operation="add" value="1">
			<requirement name="ProgressionLevel" progression_name="perkBladeMastery" operation="Equals" value="1"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$maxBleedCounter" operation="add" value="2">
			<requirement name="ProgressionLevel" progression_name="perkBladeMastery" operation="Equals" value="2"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$maxBleedCounter" operation="add" value="3">
			<requirement name="ProgressionLevel" progression_name="perkBladeMastery" operation="Equals" value="3"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$maxBleedCounter" operation="add" value="4">
			<requirement name="ProgressionLevel" progression_name="perkBladeMastery" operation="Equals" value="4"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$maxBleedCounter" operation="add" value="5">
			<requirement name="ProgressionLevel" progression_name="perkBladeMastery" operation="Equals" value="5"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$maxBleedCounter" operation="add" value="6">
			<requirement name="ProgressionLevel" progression_name="perkBladeMastery" operation="Equals" value="6"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$maxBleedCounter" operation="add" value="7">
			<requirement name="ProgressionLevel" progression_name="perkBladeMastery" operation="Equals" value="7"/></triggered_effect>

    </append>
	
	
<!-- Medium and Heavy armor Perks -->

	<append xpath="/buffs/buff[@name='buffStatusCheck02']">
	
			<effect_group> <!-- medium armor, determine how many pieces are worn -->
			<requirements compare_type="or">
				<requirement name="ProgressionLevel" progression_name="perkThinSkin" operation="GT" value="0"/>
				<requirement name="HasBuff" buff="buffUrbanCombatAdrenalineRush"/>
			</requirements>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumWorn" operation="set" value="1">
					<requirement name="WornItems" tags="mediumArmorPenalty" operation="Equals" value="1"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumWorn" operation="set" value="2">
					<requirement name="CVarCompare" cvar=".ArmorMediumWorn" operation="Equals" value="0"/>
					<requirement name="WornItems" tags="mediumArmorPenalty" operation="Equals" value="2"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumWorn" operation="set" value="3">
					<requirement name="CVarCompare" cvar=".ArmorMediumWorn" operation="Equals" value="0"/>
					<requirement name="WornItems" tags="mediumArmorPenalty" operation="Equals" value="3"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumWorn" operation="set" value="4">
					<requirement name="CVarCompare" cvar=".ArmorMediumWorn" operation="Equals" value="0"/>
					<requirement name="WornItems" tags="mediumArmorPenalty" operation="Equals" value="4"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumWorn" operation="set" value="5">
					<requirement name="CVarCompare" cvar=".ArmorMediumWorn" operation="Equals" value="0"/>
					<requirement name="WornItems" tags="mediumArmorPenalty" operation="Equals" value="5"/>
				</triggered_effect>
		</effect_group>

		<effect_group> <!-- medium armor, determine how much of the armor-internal passives is discounted / added back in -->
			<requirements compare_type="or">
				<requirement name="ProgressionLevel" progression_name="perkThinSkin" operation="Equals" value="0"/>
				<requirement name="CVarCompare" cvar=".ArmorMediumWorn" operation="Equals" value="0"/>
			</requirements>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveCVar" cvar=".ArmorMediumStaminaWalk,.ArmorMediumStaminaRun,.ArmorMediumMobility"/>
		</effect_group>

		<effect_group> <!-- medium armor, determine which % the armor perk restores -->
			<requirement name="ProgressionLevel" progression_name="perkThinSkin" operation="Equals" value="1"/>
			<requirement name="CVarCompare" cvar=".ArmorMediumWorn" operation="GT" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumStaminaWalk" operation="set" value="03"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumMobility" operation="set" value=".05"/>
		</effect_group>

		<effect_group>
			<requirement name="ProgressionLevel" progression_name="perkThinSkin" operation="Equals" value="2"/>
			<requirement name="CVarCompare" cvar=".ArmorMediumWorn" operation="GT" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumStaminaWalk" operation="set" value="06"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumMobility" operation="set" value=".1"/>
		</effect_group>

		<effect_group>
			<requirement name="ProgressionLevel" progression_name="perkThinSkin" operation="Equals" value="3"/>
			<requirement name="CVarCompare" cvar=".ArmorMediumWorn" operation="GT" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumStaminaWalk" operation="set" value=".09"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumMobility" operation="set" value=".15"/>
		</effect_group>

		<effect_group>
			<requirement name="ProgressionLevel" progression_name="perkThinSkin" operation="Equals" value="4"/>
			<requirement name="CVarCompare" cvar=".ArmorMediumWorn" operation="GT" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumStaminaWalk" operation="set" value=".12"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumMobility" operation="set" value=".2"/>
		</effect_group>
		
		<effect_group>
			<requirement name="ProgressionLevel" progression_name="perkThinSkin" operation="Equals" value="5"/>
			<requirement name="CVarCompare" cvar=".ArmorMediumWorn" operation="GT" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumStaminaWalk" operation="set" value=".15"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumMobility" operation="set" value=".25"/>
		</effect_group>
		
		<effect_group>
			<requirement name="ProgressionLevel" progression_name="perkThinSkin" operation="Equals" value="6"/>
			<requirement name="CVarCompare" cvar=".ArmorMediumWorn" operation="GT" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumStaminaWalk" operation="set" value=".18"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumMobility" operation="set" value=".3"/>
		</effect_group>

		<effect_group>
			<requirement name="ProgressionLevel" progression_name="perkThinSkin" operation="Equals" value="7"/>
			<requirement name="CVarCompare" cvar=".ArmorMediumWorn" operation="GT" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumStaminaWalk" operation="set" value=".25"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumMobility" operation="set" value=".4"/>
		</effect_group>

		<effect_group>
			<requirement name="HasBuff" buff="buffUrbanCombatAdrenalineRush"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumMobility" operation="set" value="1"/>
		</effect_group>

		<effect_group> <!-- medium armor, add penalties back in -->
			<requirement name="CVarCompare" cvar=".ArmorMediumWorn" operation="GT" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumStaminaRun" operation="set" value="@.ArmorMediumStaminaWalk"/>
				<!-- the full penalty that 1 piece of medium armor adds -->
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumStaminaRun" operation="multiply" value="0.0562"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumStaminaWalk" operation="multiply" value="0.0281"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumMobility" operation="multiply" value="0.05"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumStaminaRun" operation="multiply" value="@.ArmorMediumWorn"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumStaminaWalk" operation="multiply" value="@.ArmorMediumWorn"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorMediumMobility" operation="multiply" value="@.ArmorMediumWorn"/>
				
				<passive_effect name="StaminaChangeOT" operation="perc_add" value="@.ArmorMediumStaminaWalk" tags="walking"/> <!-- ARMOR_MEDIUM_WALKING -->
				<passive_effect name="StaminaChangeOT" operation="perc_add" value="@.ArmorMediumStaminaRun" tags="running"/> <!-- ARMOR_MEDIUM_RUNNING -->
				<passive_effect name="Mobility" operation="perc_add" value="@.ArmorMediumMobility"/>
		</effect_group>
	
	
		<effect_group> <!-- heavy armor, determine how many pieces are worn -->
			<requirements compare_type="or">
				<requirement name="ProgressionLevel" progression_name="perkThickSkin" operation="GT" value="0"/>
				<requirement name="HasBuff" buff="buffUrbanCombatAdrenalineRush"/>
			</requirements>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorHeavyWorn" operation="set" value="1">
					<requirement name="WornItems" tags="heavyArmorPenalty" operation="Equals" value="1"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorHeavyWorn" operation="set" value="2">
					<requirement name="CVarCompare" cvar=".ArmorHeavyWorn" operation="Equals" value="0"/>
					<requirement name="WornItems" tags="heavyArmorPenalty" operation="Equals" value="2"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorHeavyWorn" operation="set" value="3">
					<requirement name="CVarCompare" cvar=".ArmorHeavyWorn" operation="Equals" value="0"/>
					<requirement name="WornItems" tags="heavyArmorPenalty" operation="Equals" value="3"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorHeavyWorn" operation="set" value="4">
					<requirement name="CVarCompare" cvar=".ArmorHeavyWorn" operation="Equals" value="0"/>
					<requirement name="WornItems" tags="heavyArmorPenalty" operation="Equals" value="4"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorHeavyWorn" operation="set" value="5">
					<requirement name="CVarCompare" cvar=".ArmorHeavyWorn" operation="Equals" value="0"/>
					<requirement name="WornItems" tags="heavyArmorPenalty" operation="Equals" value="5"/>
				</triggered_effect>
		</effect_group>

		<effect_group> <!-- heavy armor, determine how much of the armor-internal passives is discounted / added back in -->
			<requirements compare_type="or">
				<requirement name="ProgressionLevel" progression_name="perkThickSkin" operation="Equals" value="0"/>
				<requirement name="CVarCompare" cvar=".ArmorHeavyWorn" operation="Equals" value="0"/>
			</requirements>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveCVar" cvar=".ArmorHeavyStaminaWalk,.ArmorHeavyStaminaRun,.ArmorHeavyMobility"/>
		</effect_group>

		<effect_group> <!-- heavy armor, determine which % the armor perk restores -->
			<requirement name="ProgressionLevel" progression_name="perkThickSkin" operation="Equals" value="1"/>
			<requirement name="CVarCompare" cvar=".ArmorHeavyWorn" operation="GT" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorHeavyStaminaWalk" operation="add" value=".03"/>
		</effect_group>

		<effect_group>
			<requirement name="ProgressionLevel" progression_name="perkThickSkin" operation="Equals" value="2"/>
			<requirement name="CVarCompare" cvar=".ArmorHeavyWorn" operation="GT" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorHeavyStaminaWalk" operation="add" value=".06"/>
		</effect_group>

		<effect_group>
			<requirement name="ProgressionLevel" progression_name="perkThickSkin" operation="Equals" value="3"/>
			<requirement name="CVarCompare" cvar=".ArmorHeavyWorn" operation="GT" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorHeavyStaminaWalk" operation="add" value=".09"/>
		</effect_group>

		<effect_group>
			<requirement name="ProgressionLevel" progression_name="perkThickSkin" operation="Equals" value="4"/>
			<requirement name="CVarCompare" cvar=".ArmorHeavyWorn" operation="GT" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorHeavyStaminaWalk" operation="add" value=".12"/>
		</effect_group>
		
		<effect_group>
			<requirement name="ProgressionLevel" progression_name="perkThickSkin" operation="Equals" value="5"/>
			<requirement name="CVarCompare" cvar=".ArmorHeavyWorn" operation="GT" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorHeavyStaminaWalk" operation="add" value=".15"/>
		</effect_group>
		
		<effect_group>
			<requirement name="ProgressionLevel" progression_name="perkThickSkin" operation="Equals" value="6"/>
			<requirement name="CVarCompare" cvar=".ArmorHeavyWorn" operation="GT" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorHeavyStaminaWalk" operation="add" value=".18"/>
		</effect_group>
		
		<effect_group>
			<requirement name="ProgressionLevel" progression_name="perkThickSkin" operation="Equals" value="7"/>
			<requirement name="CVarCompare" cvar=".ArmorHeavyWorn" operation="GT" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorHeavyStaminaWalk" operation="add" value=".25"/>
		</effect_group>

		<effect_group> <!-- heavy armor, add penalties back in -->
			<requirement name="CVarCompare" cvar=".ArmorHeavyWorn" operation="GT" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorHeavyStaminaRun" operation="set" value="@.ArmorHeavyStaminaWalk"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorHeavyMobility" operation="set" value="@.ArmorHeavyStaminaWalk"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorHeavyMobility" operation="set" value="1">
					<requirement name="HasBuff" buff="buffUrbanCombatAdrenalineRush"/>
				</triggered_effect>

				<!-- the full penalty that 1 piece of heavy armor adds -->
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorHeavyStaminaRun" operation="multiply" value="0.09"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorHeavyStaminaWalk" operation="multiply" value="0.045"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorHeavyMobility" operation="multiply" value="0.075"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorHeavyStaminaRun" operation="multiply" value="@.ArmorHeavyWorn"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorHeavyStaminaWalk" operation="multiply" value="@.ArmorHeavyWorn"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorHeavyMobility" operation="multiply" value="@.ArmorHeavyWorn"/>

				<passive_effect name="StaminaChangeOT" operation="perc_add" value="@.ArmorHeavyStaminaWalk" tags="walking"/> <!-- ARMOR_HEAVY_WALKING -->
				<passive_effect name="StaminaChangeOT" operation="perc_add" value="@.ArmorHeavyStaminaRun" tags="running"/> <!-- ARMOR_HEAVY_RUNNING -->
				<passive_effect name="Mobility" operation="perc_add" value="@.ArmorHeavyMobility"/>
		</effect_group>
	</append>
		
</configs>